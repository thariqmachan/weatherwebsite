<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Weather app</title>
    <link rel="stylesheet" href="style.css" />
        <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
        crossorigin="anonymous"
        />
  </head>
  <body class="bg-dark">
    <div class="card">
      <div class="search">
        <input type="text" placeholder="enter city name" id="weatherCheck" spellcheck="false" />
        <button type="button"><img src="./images/search.png"  onclick="accessData()" /></button>
      </div>

      <!-- result  -->
      <div id="result"></div>

      <!-- weather -->
      <!-- <div class="weather">
        <img src="images/rain.png" class="weather-icon" />
        <h1 class="temp">22Â°c</h1>
        <h2 class="city">Newyork</h2> -->

        <!-- details  -->
        <!-- <div class="details">
          <div class="col">
            <img src="images/humidity.png" />
            <div>
              <p class="humidity">50%</p>
              <p>Humidity</p>
            </div>
          </div>

          <div class="col">
            <img src="images/wind.png" />
            <div>
              <p class="wind">15 km/hr</p>
              <p>Wind speed</p>
            </div>
          </div>
        </div>
      </div> -->
    </div>

    <script>
        function accessData(){
            weather=weatherCheck.value
            console.log(weather);
            fetch(`https://api.openweathermap.org/data/2.5/weather?q=${weather}&appid=b41ec3be35c7dac8aabbc21ba253137a`)
            .then(data=>data.json()).then(cData=> displayData(cData));

            function displayData(wthrData) {
            city = weather
            weather = wthrData.weather[0].description
            // temp = parseInt((wthrData.main.temp - 32) * (5 / 9))
            

            temp = Math.floor(wthrData.main.temp - 273.15)

            result.innerHTML += `
           <center>
                <div style="width: 18rem;">
                    <img src="./images/clear.png" class="card-img-top" alt="..."> 
                    <div class="card-body">
                        <h2 class="card-title fw-bold">${city}</h2>
                    </div>
                    <ul class="list-group list-group-flush">
                        <h4 class="fw-bold">${weather}</h4>
                        <h4 class="fw-bold">${temp}<sup>0</sup>C</h4>
                    </ul>
                    </div>
            </center>`
        }

        }
    </script>
  </body>
</html>
